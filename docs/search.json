[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Obesity Data Analysis",
    "section": "",
    "text": "1 Introduction\nObesity is an escalating global pandemic that has taken over many countries in the world. Overweight and obesity are the fifth leading risk for global deaths, and a leading preventable cause of death (only second to smoking in the US).\nWith more than 40% of Americans being obese, our team was outraged by the scale of this problem. Being obese not only has detrimental effects on a person’s health, it also drastically impacts their self-confidence and self-image. While great efforts have been made by body positivity activists to encourage people to embrace their appearances regardless of their size, it is undeniable that people who are overweight still face a great deal of prejudice and inconveniences in their daily lives that can be easily resolved, if only they were able to lose weight by leading a healthier lifestyle.\nIn order to tackle this problem, we seek to understand what health and physical factors are typically associated with obesity. This will be useful to the community in two ways:\n\nEmpower overweight individuals by allowing them to understand what factors might have contributed to or have been caused by their weight.\nIncrease general understanding of the problem of obesity such that the non-obese population is more empathetic towards obese individuals.\n\nIn this project, we use techniques learnt in the course “Exploratory Data Analysis and Visualization” by Professor Joyce Robbins at Columbia University to inspect our chosen dataset from many angles, describing and summarizing the dataset without making any precise assumptions about the data. Here is a quick overview of the other pages:\n\nData: Presentation of our dataset and research methodology\nResults: The exploratory techniques used on the dataset and our findings\nInteractive graph: Interactive parallel coordinates plot to visualize relationships between variables\nConclusion: Key findings of our exploration, limitations of our analyses and future directions."
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "2.1 Description",
    "text": "2.1 Description\n\n2.1.1 Overview of attributes\nWe are using one data source for this project, presented in the research paper Palechor et al. 2019, that monitors the physical health of individuals of ages 14 to 61 from the countries of Mexico, Peru and Colombia, based on their eating habits, physical condition and obesity levels. The dataset contains 17 attributes and 2111 records, and it is the biggest (in terms of both the number of rows and columns) dataset that we could find on obesity and physical health. The 17 attributes are as follows:\n\n\n\n\n\n\n\n\n\nIndex\nVariable\nType\nSubtype\n\n\n\n\n1\nGender\nCategorical\nNominal\n\n\n2\nAge\nNumerical\nDiscrete\n\n\n3\nHeight\nNumerical\nContinuous\n\n\n4\nWeight\nNumerical\nContinuous\n\n\n5\nFamily history with overweight (family_history_with_overweight)\nCategorical\nBinary\n\n\n6\nFrequent consumption of high caloric food (FAVC)\nCategorical\nBinary\n\n\n7\nFrequency of consumption of vegetables (FCVC)\nNumerical\nDiscrete\n\n\n8\nNumber of main meals (NCP)\nNumerical\nDiscrete\n\n\n9\nConsumption of food between meals (CAEC)\nCategorical\nOrdinal\n\n\n10\nSMOKE\nCategorical\nBinary\n\n\n11\nConsumption of water daily (CH2O)\nNumerical\nDiscrete\n\n\n12\nCalories consumption monitoring (SCC)\nCategorical\nBinary\n\n\n13\nPhysical activity frequency (FAF)\nNumerical\nDiscrete\n\n\n14\nTime using technology devices (TUE)\nNumerical\nDiscrete\n\n\n15\nConsumption of alcohol (CALC)\nCategorical\nOrdinal\n\n\n16\nTransportation used (MTRANS)\nCategorial\nNominal\n\n\n17\nObesity category level (NObeyesdad)\nCategorical\nOrdinal\n\n\n\n\n\n\n\n2.1.2 Dealing with class imbalance\n485 rows (or 23%) of this data was collected using an online survey that was made available online for a period of 30 days (exact dates not specified), and the researchers generated the remaining 77% synthetically in order to balance out the categories of obesity levels. It is understandable that the researchers had to generate synthetic data as the categories naturally will suffer from a huge imbalance favoring people of normal weight. Obesity levels are calculated based on the person’s Body Mass Index (BMI), given by the following formula \\(\\frac{weight}{height*height}\\). The categories of the obesity level are fixed by the World Health Organization, as follows:\n\n\n\nObesity level category\nBMI\n\n\n\n\nUnderweight\nLess than 18.5\n\n\nNormal\n18.5 to 24.9\n\n\nOverweight I\n25.0 to 27.5\n\n\nOverweight II\n27.5 to 29.9\n\n\nObesity I\n30.0 to 34.9\n\n\nObesity II\n35.0 to 39.9\n\n\nObesity III\nHigher than 40\n\n\n\nA person’s BMI is normally distributed, which explains why there are many more instances of people in a healthy health range as compared to other obesity level categories. By synthesizing more data for minority categories, the researchers pre-empt the fact that class imbalances will cause learning problems in the data mining methods and also difficulties when doing exploratory data analysis on this dataset. The researchers used an advanced technique to generate this data, the Synthetic Minority Oversampling TEchnique (SMOTE) technique developed by Chawla et. al 2002 has shown to achieve superior results on classification tasks as compared to the typical method of simply oversampling minorities as it generates new synthetic minority data using the k-nearest neighbors machine learning algorithm. The SMOTE algorithm that was described in the paper can also be found in the Annex, Chapter 6 of this report.\n \nThese are the reasons why our team chose this obesity dataset in particular: it not only provides a large range of metrics associated with a person’s health that are generally correlated with obesity for us to analyze, but also addresses class imbalances in a reliable way.\nWe plan to import the data directly into RStudio using the readfile function.\n\n\n2.1.3 Dealing with duplicate rows\nThe dataset contains a few duplicate rows, which could be attributed to the SMOTE algorithm. We decided to keep most of these duplicates as they are present in a very small number (2) except for one which had 15 duplicates\n\n\n2.1.4 Need for new columns\nWe included a new 18th attribute, BMI, so as to be able to do a regression analysis as the BMI (numerical data) provides more information than the obesity category level (categorical data)."
  },
  {
    "objectID": "data.html#research-plan",
    "href": "data.html#research-plan",
    "title": "2  Data",
    "section": "2.2 Research plan",
    "text": "2.2 Research plan\nWe intend to explore the health factors that are the most correlated with a person’s BMI or obesity level and visualize them. In the 17 attributes of our dataset, there are 5 categorical binary variables, 4 multicategorical variables and 8 continuous variables. We intend on using the techniques seen in class, such as scatter plots and boxplots, to explore this dataset.\nFrom these correlations, we will be able to draw some conclusions about the people who are the most at risk of becoming obese."
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.3 Missing value analysis",
    "text": "2.3 Missing value analysis\n\n2.3.1 No missing values in the dataset\nThe data has been preprocessed by Palechor et al. prior to applying the SMOTE filter, as missing/anomalous data will propagate errors in the synthetic data. The researchers mentioned identifying atypical and missing data in their paper, but they unfortunately did not specify exactly how much data was missing or anomalous, neither did they mention how did they remedy the problem (e.g. using correlations between the different columns of the datasets). It is also unfortunate that the researchers did not clearly indicate which rows of the dataset were synthetically generated, and which rows were collected from the online survey, neither did they make the original raw dataset open source. Nevertheless, we appreciate the robustness and completeness of this dataset.\n\n\nCode\nlibrary(readr)\nlibrary(ggplot2)\nlibrary(reshape2)\ndata&lt;-read_csv(\"scripts/xinyi-zhao_files/CleanObesityDataSet.csv\",show_col_types = FALSE)\n\n\nNew names:\n• `` -&gt; `...1`\n\n\nCode\nmissing_values &lt;- is.na(data)\n\n# Reshape data for heatmap\nlong_data &lt;- melt(missing_values, varnames = c(\"Variable\", \"Observation\"))\n\n# Create the heatmap\nggplot(long_data, aes(x = Variable, y = Observation, fill = value)) +\n  geom_tile() +\n  scale_fill_manual(values = c(\"TRUE\" = \"red\", \"FALSE\" = \"lightgreen\"), name = \"Missing\", labels = c(\"No\", \"Yes\")) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        axis.title = element_blank())\n\n\n\n\n\n\n\nCode\n# Using Professor Robbins' redav package to visualize missing data\nlibrary(redav)\nplot_missing(data, percent = FALSE)\n\n\n\n\n\n\n\n\n2.3.2 Potential methods to handle missing values\nIf our dataset were to have missing values, we would have dealt with it using one of the following methods:\n\nUse plot_missing() from redav to plot the number of missing values in each column and see the missing patterns along with their counts.\nIf there are missing patterns with correlations between the missing columns, we can see if it is possible to use the value of any of the other columns as a good predictor of the value of the column(s) with missing values, for example by doing a linear regression.\nIf the proportion of NA values is low, we can also simply try removing NA values from only these columns and keep all the other data."
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "Age  Height  Weight  FCVC  NCP  FAF  TUE  BMI Update\n\n\n\n\n\n\n\n\n\n\n\n\n4.0.1 Introduction to the d3 interactive visualization:\nHere is the parallel coordinate plot we created using d3. The color of each line in the graph represents a category of obesity. This categorization makes it easier to visually distinguish different types of obesity data. A legend on the right side of the graph will explain the color coding, clarifying which color corresponds to which type of obesity.\nUsers can manually select which columns they want to visualize using a selection form with checkboxes. The form includes options for various variables like Age, Height, Weight, FCVC, NCP, CAEC, CH2O, FAF, TUE, CALC, and NObeyesdad. After making their selections, users can click an ‘Update’ button to refresh the visualization with their chosen columns.\nThis allows users to customize the graph based on the variables they are most interested in.\n\n\n4.0.2 Interactive Features:\n\nDragging Axis: Users can drag the axes to reorder them. This feature is useful for exploring the relationships between different variables more effectively.\nBrush Selection Ranges: This allows users to select specific ranges on each axis. Only data points that fall within all selected ranges across the axes will be displayed.\nHovering and Highlighting: When a user hovers over a particular category of data, that category will be highlighted. This makes it easier to focus on and analyze specific subsets of the data.\n\n\n\n4.0.3 Findings:\n&lt;This section can be filled in with specific insights or patterns observed in the data as per your analysis.&gt;"
  },
  {
    "objectID": "results.html#data-pre-processing",
    "href": "results.html#data-pre-processing",
    "title": "3  Results",
    "section": "3.2 Data pre-processing",
    "text": "3.2 Data pre-processing\nTo conduct deeper analysis on our data, we added the following columns to our dataset:\n\nBMI: the Body Mass Index of each person, a continuous variable calculated using the World Health Organization guideline: \\(BMI = \\frac{Weight}{Height^2}\\).\nIsOverweight: a binary categorical value whose value is 1 if the BMI of the person is more than 25, 0 otherwise.\n\nThese columns serve as alternate metrics of the obesity of an individual, a continuous variable and a binary categorical variable, to complement NObeyesdad, the obesity category level which is a ordinal categorical variable.\nThese new columns can be found and used directly in the dataset scripts/xinyi-zhao_files/CleanObesityDataSet.csv.\nIn order to improve the visualization of certain plots, we also made local modifications to the data types of some columns for only that given plot. For instance, to plot the alluvial diagrams (figure 10), we rounded the values of the following: Frequency of consumption of vegetables (FCVC), Number of main meals (NCP), Physical activity frequency (FAF), Time using technology devices (TUE) (some of the values of these variables were floats, presumably because the researchers took an average of multiple time periods). This made sure that the variables are discrete (whole numbers)."
  },
  {
    "objectID": "results.html#verifications-of-the-validity-of-the-dataset",
    "href": "results.html#verifications-of-the-validity-of-the-dataset",
    "title": "3  Results",
    "section": "3.2 Verifications of the validity of the dataset",
    "text": "3.2 Verifications of the validity of the dataset\nWe start by importing the necessary libraries and the clean dataset.\n\n\nCode\nlibrary(readr)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(stats)\nlibrary(vcd)\nlibrary(ggplot2)\nlibrary(gridExtra)\n\ndata &lt;- read_csv('materials/CleanObesityDataSet.csv',show_col_types = FALSE)\n\n\nWe then do some preliminary verifications of the dataset:\n\n\nCode\ncat(\"Number of rows in dataset: \", nrow(data), \"\\nNumber of columns in dataset: \", ncol(data),\"\\nNumber of missing values in dataset: \", sum(is.na(data)))\n\n\nNumber of rows in dataset:  2111 \nNumber of columns in dataset:  20 \nNumber of missing values in dataset:  0\n\n\nAt first glance there does not seem to be any problems with the structure of our dataset, so we proceed with verifying that the data seems to align with our expectations, that there are no biases with respect to the people surveyed. We do this by visualizing the Height, Weight and BMI variables using a histogram:\n\n\nCode\n# Histograms of Height, Weight and BMI\nplot1 &lt;- ggplot(data = data, aes(x = Height)) + geom_histogram(binwidth = 0.02)\nplot2 &lt;- ggplot(data = data, aes(x = Weight)) + geom_histogram(binwidth = 2)\nplot3 &lt;- ggplot(data = data, aes(x = BMI)) + geom_histogram(binwidth = 1)\ngrid.arrange(plot1, plot2, plot3, ncol = 3)\n\n\n\n\n\n\n\nCode\n# Boxplot to visualize the BMI across all individuals \nggplot(data, aes(x=BMI)) + \n  geom_boxplot(fill = \"lightblue\", color = \"black\") + \n  coord_cartesian(ylim = c(-2, 2)) +  \n  labs(title = \"Boxplot of BMI across all individuals\")"
  },
  {
    "objectID": "results.html#understanding-the-correlation-between-biological-factor-and-obesity",
    "href": "results.html#understanding-the-correlation-between-biological-factor-and-obesity",
    "title": "3  Results",
    "section": "3.5 Understanding the correlation between biological factor and obesity",
    "text": "3.5 Understanding the correlation between biological factor and obesity"
  },
  {
    "objectID": "results.html#correlation-between-lifestyle-habits-and-obesity",
    "href": "results.html#correlation-between-lifestyle-habits-and-obesity",
    "title": "3  Results",
    "section": "3.6 Correlation between lifestyle habits and obesity",
    "text": "3.6 Correlation between lifestyle habits and obesity\n\n\nCode\n# Create a mosaic plot for each variable in the table plotted against 'IsOverweight'\n\ndata_mosaic &lt;- data[c(\"Gender\", \"family_history_with_overweight\",\"FAVC\",\"SMOKE\",\"SCC\",\"IsOverweight\")]\n\ndata_mosaic$family_history_with_overweight &lt;- fct_relevel(data_mosaic$family_history_with_overweight, \"yes\", \"no\")\n\ndata_mosaic$SMOKE &lt;- fct_relevel(data_mosaic$SMOKE, \"yes\", \"no\")\n\ndata_mosaic$FAVC &lt;- fct_relevel(data_mosaic$FAVC, \"yes\", \"no\")\n\ndata_mosaic$SCC &lt;- fct_relevel(data_mosaic$SCC, \"yes\", \"no\")\n\n\ndata_mosaic$IsOverweight &lt;- as.character(data_mosaic$IsOverweight)\n\nfor(var in names(data_mosaic)[names(data_mosaic) != \"IsOverweight\"]) {\n# png(paste0(\"mosaic_\", var, \"_IsOverweight.png\"))\n contingency_table &lt;- table(data_mosaic[[var]],data_mosaic$IsOverweight)\n mosaicplot(contingency_table, main = paste(\"Mosaic Plot for\", var), ylab = \"Is Overweight\", xlab = var, col = c(\"pink\", \"brown\"))\n# dev.off()\n}\n\n\n\n\n\nFig. 8a: Mosaic Plot of Gender against IsOverweight\n\n\n\n\n\n\n\nFig. 8b: Mosaic Plot of Family History against IsOverweight\n\n\n\n\n\n\n\nFig. 8c: Mosaic Plot of Frequent consumption of high caloric food against IsOverweight\n\n\n\n\n\n\n\nFig. 8d: Mosaic Plot of weight of whether the person smokes against IsOverweight\n\n\n\n\n\n\n\nFig. 8e: Mosaic Plot of calories consumption monitoring against IsOverweight\n\n\n\n\n\n\nCode\n# plot 1 mosaic 3 var\nlibrary(colorspace)\nlibrary(plyr)\n\ndata_mosaic &lt;- data[c(\"FAVC\", \"SCC\", \"IsOverweight\")] \ndata_mosaic &lt;- dplyr::count_(data_mosaic,vars = c(\"FAVC\", \"SCC\", \"IsOverweight\"))\n\ncolnames(data_mosaic)[colnames(data_mosaic) == \"n\"] &lt;- \"Freq\"\n\ndata_mosaic$IsOverweight &lt;- fct_rev(as.character(data_mosaic$IsOverweight))\n\nmosaic(FAVC ~ SCC + IsOverweight, data = data_mosaic, direction = c(\"v\",\"h\",\"v\"), highlighting_fill = c(\"#bdd7e7\",\"#2171b5\"))\n\n\n\n\n\nFig. 9: Trivariate mosaic plot visualizing frequent consumption of high caloric food, calories consumption monitoring and IsOverweight\n\n\n\n\n\n\nCode\ndata_alluvial &lt;- data[c(\"Age\", \"NObeyesdad\", \"NCP\", \"CH2O\", \"FAF\", \"CALC\", \"TUE\")]\n\ndata_alluvial$CH2O &lt;- as.numeric(data_alluvial$CH2O)\ndata_alluvial$CH2O &lt;- round(data_alluvial$CH2O)\ndata_alluvial$NCP &lt;- as.numeric(data_alluvial$NCP)\ndata_alluvial$NCP &lt;- round(data_alluvial$NCP)\ndata_alluvial$FAF &lt;- as.numeric(data_alluvial$FAF)\ndata_alluvial$FAF &lt;- round(data_alluvial$FAF)\ndata_alluvial$TUE &lt;- as.numeric(data_alluvial$TUE)\ndata_alluvial$TUE &lt;- round(data_alluvial$TUE)\n\ndata_alluvial &lt;- data_alluvial %&gt;%\n mutate(Obesity_Category = case_when(\n   NObeyesdad %in% c(\"Overweight_Level_I\", \"Overweight_Level_II\") ~ \"Overweight\",\n   NObeyesdad %in% c(\"Obesity_Type_I\", \"Obesity_Type_II\") ~ \"Obese\",\n   NObeyesdad == \"Normal_Weight\" ~ \"Normal\",\n   NObeyesdad == \"Insufficient_Weight\" ~ \"Underweight\"\n ))\n\n\n\n\nCode\ndata_alluvial_2 &lt;- dplyr::count_(data_alluvial,vars = c(\"Obesity_Category\", \"FAF\", \"CALC\", \"NCP\", \"CH2O\", \"TUE\"))\n\ncolnames(data_alluvial_2)[colnames(data_alluvial_2) == \"n\"] &lt;- \"Freq\"\n\ndata_alluvial_2$Obesity_Category &lt;- factor(data_alluvial_2$Obesity_Category, levels = c(\"Underweight\", \"Normal\", \"Overweight\", \"Obese\"))\n\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = TUE, axis3 = FAF)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"Gender\", \"Dept\"), expand = c(.05, .05)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs Time on Electronics vs Alcohol consumption\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 10a: Alluvial diagram of Obesity category vs Time on Electronics vs Alcohol consumption\n\n\n\n\n\n\nCode\n# CALC (consumption of alcohol), TUE (time on electronics), FAF (physical activity), CH2O (daily water), NCP (number of main meals)\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = NCP, axis3 = CH2O)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"Gender\", \"Dept\"), expand = c(.05, .05)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs Nb of meals vs Water consumption a day\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 10b: Alluvial diagram of Obesity category vs Nb of meals vs Water consumption a day"
  },
  {
    "objectID": "results.html#verify-the-validity-of-the-dataset",
    "href": "results.html#verify-the-validity-of-the-dataset",
    "title": "3  Results",
    "section": "3.2 Verify the validity of the dataset",
    "text": "3.2 Verify the validity of the dataset\nWe start by importing the necessary libraries and the clean dataset.\n\n\nCode\nlibrary(readr)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(stats)\nlibrary(vcd)\nlibrary(ggplot2)\nlibrary(gridExtra)\nlibrary(grid)\n\ndata &lt;- read_csv('materials/CleanObesityDataSet.csv',show_col_types = FALSE)\n\n\nWe then do some preliminary verifications of the number of rows, columns and missing values of our dataset:\n\n\nCode\ncat(\"Number of rows in dataset: \", nrow(data), \"\\nNumber of columns in dataset: \", ncol(data),\"\\nNumber of missing values in dataset: \", sum(is.na(data)))\n\n\nNumber of rows in dataset:  2111 \nNumber of columns in dataset:  20 \nNumber of missing values in dataset:  0\n\n\nAt first glance there does not seem to be any problems with the structure of our dataset, so we proceed with verifying that the data seems to align with our expectations, that there are no biases with respect to the people surveyed. We do this by visualizing the Height, Weight and BMI variables using a histogram:\n\n\nCode\n# Histograms of Height, Weight and BMI\nplot1 &lt;- ggplot(data = data, aes(x = Height)) + geom_histogram(binwidth = 0.02)\nplot2 &lt;- ggplot(data = data, aes(x = Weight)) + geom_histogram(binwidth = 2)\nplot3 &lt;- ggplot(data = data, aes(x = BMI)) + geom_histogram(binwidth = 1)\ngrid.arrange(plot1, plot2, plot3, ncol = 3,\n     top = textGrob(\"Histograms of continuous variables Height, Weight and BMI\",gp=gpar(fontsize=16)))\n\n\n\n\n\n\n\nCode\n# Boxplot to visualize the BMI across all individuals \nggplot(data, aes(x=BMI)) + \n  geom_boxplot(fill = \"lightblue\", color = \"black\") + \n  coord_cartesian(ylim = c(-2, 2)) +  \n  labs(title = \"Boxplot of BMI across all individuals\")"
  },
  {
    "objectID": "results.html#summary-of-findings",
    "href": "results.html#summary-of-findings",
    "title": "3  Results",
    "section": "3.1 Summary of findings",
    "text": "3.1 Summary of findings\nIn the next few subsections, we dive into the details of how we drew these conclusions."
  },
  {
    "objectID": "results.html#verifications-that-the-dataset-is-valid",
    "href": "results.html#verifications-that-the-dataset-is-valid",
    "title": "3  Results",
    "section": "3.3 Verifications that the dataset is valid",
    "text": "3.3 Verifications that the dataset is valid\nImporting the necessary libraries and dataset\n\n\nCode\nlibrary(readr)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(stats)\nlibrary(vcd)\nlibrary(ggplot2)\nlibrary(gridExtra)\nlibrary(grid)\n\ndata &lt;- read_csv('materials/CleanObesityDataSet.csv',show_col_types = FALSE)\n\n\nPreliminary verifications of the number of rows, columns and missing values of our dataset show that there does not seem to be any problems with the structure of our dataset.\n\n\nCode\ncat(\"Number of rows in dataset: \", nrow(data), \"\\nNumber of columns in dataset: \", ncol(data),\"\\nNumber of missing values in dataset: \", sum(is.na(data)))\n\n\nNumber of rows in dataset:  2111 \nNumber of columns in dataset:  20 \nNumber of missing values in dataset:  0\n\n\nAdditionally, the data seems to align with our expectations, visualizing the Height, Weight and BMI variables shows that there are no biases with respect to the people surveyed.\n\n\nCode\n# Histograms of Height, Weight and BMI\nplot1 &lt;- ggplot(data = data, aes(x = Height)) + geom_histogram(binwidth = 0.02)\nplot2 &lt;- ggplot(data = data, aes(x = Weight)) + geom_histogram(binwidth = 2)\nplot3 &lt;- ggplot(data = data, aes(x = BMI)) + geom_histogram(binwidth = 1)\ngrid.arrange(plot1, plot2, plot3, ncol = 3,\n     top = textGrob(\"Histograms of the continuous variables Height, Weight and BMI\",gp=gpar(fontsize=16)))\n\n\n\n\n\n\n\nCode\nshapiro.test(data$Height)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  data$Height\nW = 0.99323, p-value = 2.772e-08\n\n\nCode\nshapiro.test(data$Weight)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  data$Weight\nW = 0.9765, p-value &lt; 2.2e-16\n\n\nCode\nshapiro.test(data$BMI)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  data$BMI\nW = 0.97475, p-value &lt; 2.2e-16\n\n\n\n\nCode\nplot1 &lt;- ggplot(data, aes(sample = Height)) + \n  stat_qq() + \n  stat_qq_line(col = \"navy\") +\n  xlab(\"Height\")\n\nplot2 &lt;- ggplot(data, aes(sample = Weight)) + \n  stat_qq() + \n  stat_qq_line(col = \"navy\") +\n  xlab(\"Weight\")\n\nplot3 &lt;- ggplot(data, aes(sample = BMI)) + \n  stat_qq() + \n  stat_qq_line(col = \"navy\") +\n  xlab(\"BMI\")\n\ngrid.arrange(plot1, plot2, plot3, ncol = 3)\n\n\n\n\n\nAnalysis:\n\nThe height of the individuals appears to follow a normal distribution, which is aligned with our expectations as it is an assumption that researchers typically make.\nThe weight of the individuals does not appear to be normally distribution as it has a right skew. Body weight is found to have a right skew according to research.\nThe BMI of individuals\n\nWe confirmed the above results by visualizing the QQ plots of the three variables:\n\n\nCode\n# Boxplot to visualize the BMI across all individuals \nggplot(data, aes(x=BMI)) + \n  geom_boxplot(fill = \"lightblue\", color = \"black\") + \n  coord_cartesian(ylim = c(-2, 2)) +  \n  labs(title = \"Boxplot of BMI across all individuals\")"
  },
  {
    "objectID": "results.html#analysis-of-height-weight-and-bmi-variables",
    "href": "results.html#analysis-of-height-weight-and-bmi-variables",
    "title": "3  Results",
    "section": "3.3 Analysis of Height, Weight and BMI variables",
    "text": "3.3 Analysis of Height, Weight and BMI variables\nSince the dataset contains artificially generated data, we first needed to verify that the dataset matches our expectations, notably by visualizing the distribution of these three continuous variables.\n\n\nCode\n# Importing the necessary libraries and dataset\nlibrary(readr)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(stats)\nlibrary(vcd)\nlibrary(ggplot2)\nlibrary(gridExtra)\nlibrary(grid)\nlibrary(GGally)\nlibrary(reshape2)\nlibrary(colorspace)\nlibrary(plyr)\nlibrary(ggalluvial) \nlibrary(ggridges)\n\ndata &lt;- read_csv('scripts/xinyi-zhao_files/CleanObesityDataSet.csv',show_col_types = FALSE)\n\n\n\n3.3.1 Verification of number of rows, columns, missing values\nA preliminary verifications of the number of rows, columns and missing values of our dataset show that there does not seem to be any problems with the structure of our dataset.\n\n\nCode\n# Print a summary of number of rows, columns, missing values\ncat(\"Number of rows in dataset: \", nrow(data), \"\\nNumber of columns in dataset: \", ncol(data),\"\\nNumber of missing values in dataset: \", sum(is.na(data)))\n\n\nNumber of rows in dataset:  2111 \nNumber of columns in dataset:  20 \nNumber of missing values in dataset:  0\n\n\n\n\n3.3.2 Histogram\nAdditionally, the data seems to align with our expectations, visualizing the Height, Weight and BMI variables with a histogram (Fig. 1) shows that at first glance there is no anomalous data that stands out with respect to the people surveyed.\n\n\nCode\n# Histograms of Height, Weight and BMI\n\nplot1 &lt;- ggplot(data = data, aes(x = Height)) + geom_histogram(binwidth = 0.02)\nplot2 &lt;- ggplot(data = data, aes(x = Weight)) + geom_histogram(binwidth = 2)\nplot3 &lt;- ggplot(data = data, aes(x = BMI)) + geom_histogram(binwidth = 1)\ngrid.arrange(plot1, plot2, plot3, ncol = 3,\n     top = textGrob(\"Histograms of the continuous variables Height, Weight and BMI\",gp=gpar(fontsize=16)))\n\n\n\n\n\nFig. 1: Histograms of Height, Weight and BMI\n\n\n\n\n\n\n3.3.3 Normality tests (Shapiro-Wilk test and QQ-plots)\nWe investigated whether three variables plotted in Fig. 1 follow a normal distribution by running the Shapiro–Wilk test (below) and plotting the QQ-plots of all three variables (Fig. 2).\n\n\nCode\n# Shapiro–Wilk test on height, weight, BMI\nshapiro.test(data$Height)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  data$Height\nW = 0.99323, p-value = 2.772e-08\n\n\nCode\nshapiro.test(data$Weight)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  data$Weight\nW = 0.9765, p-value &lt; 2.2e-16\n\n\nCode\nshapiro.test(data$BMI)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  data$BMI\nW = 0.97475, p-value &lt; 2.2e-16\n\n\n\n\nCode\n# QQ-Plot of Height, Weight and BMI in this order, plotted in a row\nplot1 &lt;- ggplot(data, aes(sample = Height)) + \n  stat_qq() + \n  stat_qq_line(col = \"navy\") +\n  xlab(\"Height\")\n\nplot2 &lt;- ggplot(data, aes(sample = Weight)) + \n  stat_qq() + \n  stat_qq_line(col = \"navy\") +\n  xlab(\"Weight\")\n\nplot3 &lt;- ggplot(data, aes(sample = BMI)) + \n  stat_qq() + \n  stat_qq_line(col = \"navy\") +\n  xlab(\"BMI\")\n\ngrid.arrange(plot1, plot2, plot3, ncol = 3)\n\n\n\n\n\nFig. 2: QQ-Plot of Height, Weight and BMI\n\n\n\n\nAnalysis of normality:\nOn the histogram, it seems like Weight does not follow a normal distribution as there are multiple local peaks at around 75kg, 90kg and 100kg), and neither does BMI since there is nobody whose BMI is less than 18 or higher than 50, hence the BMI distribution does not have a tail.\n\nThe height of the individuals does not appear to follow a normal distribution, as it appears to be multimodal (1.75m and 1.8m) and the Shapiro-Wilk normality test gives a p-value of 2e-8 &lt;&lt; 0.05. This is not quite aligned with our expectations as height has been found by researchers to in general follow a normal distribution.\nThe weight of the individuals appears to have a slight right skew according to the QQ Plot (the plot “climbs slowly” for smaller values of the x axis). This is aligned with our expectations as body weight is found to have a right skew according to research.\nThe BMI of individuals appears to be in between a uniform distribution and a normal distribution from the QQ Plot (flat for small and big values on the theoretical normal quantiles, but not flat enough to be a true uniform distribution). This is not collaborated by other research that has found that the distribution of BMI is right-skewed, for instance by Briese et. al (2011). Yet, this is to be expected since the researchers artificially generated more high BMI data points to balance out the class imbalance.\n\n\n\n3.3.4 Boxplot of BMI\nAfterwards, we plotted a boxplot (Fig. 3) to better understand the other statistics (e.g. median, outliers) of the variable BMI.\n\n\nCode\n# Boxplot to visualize the BMI across all individuals \nggplot(data, aes(x=BMI)) + \n  geom_boxplot(fill = \"lightblue\", color = \"black\") + \n  coord_cartesian(ylim = c(-2, 2)) +  \n  labs(title = \"Boxplot of BMI across all individuals\")\n\n\n\n\n\nFig. 3: Boxplot to visualize the BMI across all individuals\n\n\n\n\nCode\nfivenum(data$BMI)\n\n\n[1] 12.99868 24.32580 28.71909 36.01650 50.81175\n\n\nThe Tukey Five-Number summary tells us the following: - Minimum BMI is 13\n\nLower hinge is 24\nMedian is 28.7\nUpper hinge is 36.0\nMaximum BMI is 50.8\n\nSince the median is at 28.7 &gt; 25, more than half of the sample corresponds to overweight individuals (generated or real people). Since the lower hinge is at 24 (normal weight), we also know that less than 25% of the individuals in the dataset are underweight, and also less than 25% of the individuals in the dataset are of normal weight.\nTherefore, this dataset has much more data of overweight people than expected, which makes sense since the obesity level category divides “overweight” into five different categories (Overweight I & II, Obesity I, II, III). \n\n\n3.3.5 Ridgeline plot of weight\nLastly, we made a ridgeline plot of weight of individuals across Obesity Types (Fig. 4).\n\n\nCode\n# Ridgeline Plot of weight of individuals across Obesity Types\nggplot(data, aes(x = Weight, y = NObeyesdad, fill = NObeyesdad)) +\n  stat_density_ridges(alpha = 0.7) +\n  scale_fill_viridis_d() +\n  labs(title = \"Ridgeline Plot of Obesity Types\", x = \"weight\", y = \"Obesity Type\") +\n  theme_ridges()\n\n\n\n\n\nFig. 4: Ridgeline Plot of weight of individuals across Obesity Types\n\n\n\n\n\n\nThis ridgeline plot illustrates that the distributions of normal weight, insufficient weight, and overweight categories exhibit unimodal characteristics, closely resembling a normal distribution. In contrast, the obesity category displays a bimodal distribution with a notably wider range."
  },
  {
    "objectID": "results.html#preliminary-visualizations",
    "href": "results.html#preliminary-visualizations",
    "title": "3  Results",
    "section": "3.4 Preliminary visualizations",
    "text": "3.4 Preliminary visualizations\n\n\nCode\nset.seed(123456)\n\ndata &lt;- data %&gt;%\n mutate_if(is.numeric, scale)\n\ndata_num &lt;- data[c(\"Age\", \"Height\", \"Weight\", \"NCP\", \"CH2O\", \"FAF\", \"TUE\",\"BMI\")]\n\n# Convert all columns to numeric\ndata_num &lt;- sapply(data_num, as.numeric)\n\n# Sample 1000 points for clearer visualization\ndata_sampled &lt;- sample_n(as.data.frame(data_num), 300)\n\nggpairs(as.data.frame(data_sampled), aes(alpha = 0.4, size = 0.02), \n           upper = list(continuous = wrap(\"cor\", size = 12))) + \n  theme(text = element_text(size = 35))"
  },
  {
    "objectID": "d3graph.html#introduction-to-the-d3-interactive-visualization",
    "href": "d3graph.html#introduction-to-the-d3-interactive-visualization",
    "title": "4  Interactive graph",
    "section": "4.1 Introduction to the d3 interactive visualization:",
    "text": "4.1 Introduction to the d3 interactive visualization:\nHere is the parallel coordinate plot we created using d3. The color of each line in the graph represents a category of obesity. This categorization makes it easier to visually distinguish different types of obesity data. A legend on the right side of the graph will explain the color coding, clarifying which color corresponds to which type of obesity.\nUsers can manually select which columns they want to visualize using a selection form with checkboxes. The form includes options for various variables like Age, Height, Weight, FCVC, NCP, FAF, TUE, BMI and NObeyesdad. After making their selections, users can click an ‘Update’ button to refresh the visualization with their chosen columns.\nThis allows users to customize the graph based on the variables they are most interested in."
  },
  {
    "objectID": "d3graph.html#interactive-features",
    "href": "d3graph.html#interactive-features",
    "title": "4  Interactive graph",
    "section": "4.2 Interactive Features:",
    "text": "4.2 Interactive Features:\n\nDragging Axis: Users can drag the axes to reorder them. This feature is useful for exploring the relationships between different variables more effectively.\nBrush Selection Ranges: This allows users to select specific ranges on each axis. Only data points that fall within all selected ranges across the axes will be displayed.\nHovering and Highlighting: When a user hovers over a particular category of data, that category will be highlighted. This makes it easier to focus on and analyze specific subsets of the data."
  },
  {
    "objectID": "d3graph.html#findings",
    "href": "d3graph.html#findings",
    "title": "4  Interactive graph",
    "section": "4.3 Findings:",
    "text": "4.3 Findings:\nIf we choose all these variables the graph would be like this:\n\n\n\nAn example of interactive exploration result\n\n\nAfter various interactions we had the following findings:\n\nYounger people are more tend to have a normal weight or underweight, while obesity people ages have a wide age range.\nThere’s a clear trend of increasing weight with the progression from insufficient weight to obesity. The lines representing obesity (orange) tend to be on the higher end of the weight scale.\nThe lines for overweight and obesity (yellow and orange) show high values for FCVC, suggesting that individuals in these categories tend to consume vegetables more frequently.\nMost of the number of main meals(NCP) values across all categories are around the value of 3, which suggests that independent of weight category, the majority of individuals consume around three main meals a day.\nThere seems to be a clustering around lower values for the obesity category, indicating less frequent physical activity.\nAs expected, the BMI increases from insufficient weight to obesity. The orange lines, indicating obesity, are consistently at the higher end of the BMI scale."
  },
  {
    "objectID": "results.html#understanding-the-correlation-between-biological-factors-and-obesity",
    "href": "results.html#understanding-the-correlation-between-biological-factors-and-obesity",
    "title": "3  Results",
    "section": "3.5 Understanding the correlation between biological factors and obesity",
    "text": "3.5 Understanding the correlation between biological factors and obesity"
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  output: bookdown::html_document2",
    "section": "",
    "text": "3 Data"
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Final Problem Set Fall 2023",
    "section": "",
    "text": "4 Results"
  },
  {
    "objectID": "results.html#exploratory-data-analysis-of-variables-potentially-correlated-with-bmi",
    "href": "results.html#exploratory-data-analysis-of-variables-potentially-correlated-with-bmi",
    "title": "3  Results",
    "section": "3.4 Exploratory data analysis of variables potentially correlated with BMI",
    "text": "3.4 Exploratory data analysis of variables potentially correlated with BMI\n\n3.4.1 Scatterplot of each pair of numeric variables in the dataset\nWe wanted to first find out whether there are any obvious correlations between any pair of numeric variables in the dataset. This will help us to figure out if there are any variables to focus our subsequent analyses on. Fig. 5 presents a scatterplot of each pair of numeric variables in the dataset.\n\n\nCode\n# Scatterplot of each pair of numeric variables in the dataset\n\nset.seed(123456) # Seed so that the sampling is reproducible\n\n#data &lt;- data %&gt;%\n# mutate_if(is.numeric, scale) # Scale only numeric variables\n\ndata_num &lt;- data[c(\"Age\", \"Height\", \"Weight\", \"NCP\", \"CH2O\", \"FAF\", \"TUE\",\"BMI\")] # Select the variable that we want to plot\n\n# Convert all columns to numeric\ndata_num &lt;- sapply(data_num, as.numeric)\n\n# Sample 300 points for clearer visualization as all 2000 plots gives a cluttered scatterplot\ndata_sampled &lt;- sample_n(as.data.frame(data_num), 300)\n\nggpairs(as.data.frame(data_sampled), aes(alpha = 0.4, size = 0.02), \n           upper = list(continuous = wrap(\"cor\", size = 12))) + \n  theme(text = element_text(size = 35)) # Decreased the size and alpha to have more readable scatter plots\n\n\n\n\n\nFig. 5: Scatterplot of each pair of numeric variables in the dataset\n\n\n\n\nBased on this scatterplot, we can gain the following insights:\n\nSanity check: there is a strong correlation between weight and BMI (r = 0.941) and height and weight (r = 0.493).\nMost variable pairs have an extremely low correlation (less than 0.2). There are only four pairs that have a correlation of greater than 0.2: BMI/Age, NCP/Height, CH2O/Height, FAF/Height. Yet none of these variables are correlated with weight or BMI.\n\nThis shows that each of the variables are interesting on their own since they have little correlation between each other, and that it would not be useful to remove any of the variables as each of them might bring us some unique insight to understand obesity.\n\n\n3.4.2 Heatmap of correlations between numerical variables\n\n\nCode\n# Heatmap of correlations between numerical variables\ncategories &lt;- c('Insufficient_Weight','Normal_Weight', 'Overweight_Level_I', 'Overweight_Level_II', 'Obesity_Type_I', 'Obesity_Type_II','Obesity_Type_III')\n\n# Create a mapping from category to integer\ncategory_mapping &lt;- setNames(1:length(categories), categories)\n\ndata$NObesity_numeric &lt;- as.integer(factor(data$NObeyesdad, levels = categories))\n\ndata_pca &lt;- data[c(\"FCVC\",\"NCP\",\"FAF\",\"TUE\",\"NObesity_numeric\")]\n\n\ncor_matrix &lt;- cor(data_pca)\n\n# Reshape the data for heatmap\nmelted_cor &lt;- melt(cor_matrix)\n\n# Creating heatmap\nggplot(melted_cor, aes(Var1, Var2, fill = value)) +\n  geom_tile() +\n  geom_text(aes(label = ifelse(value &gt; 0.1&value&lt;1, round(value, 2), '')), color= 'darkblue',vjust = 1) +\n  scale_fill_gradient2(midpoint = 0) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  ggtitle(\"Heatmap of Correlations\")\n\n\n\n\n\nFig. 6: Heatmap of correlations between numerical variables\n\n\n\n\nAnalyzing the heatmap of correlations among numerical variables reveals two notable insights:\n\nThere is a surprisingly high positive correlation between the frequency of vegetable consumption and obesity. Contrary to the common assumption that increased vegetable intake correlates with healthier living, the data interestingly suggests that higher vegetable consumption frequencies may be associated with an increased tendency towards being overweight.\nA positive relationship exists between the frequency of physical activity and the number of main meals consumed. This aligns well with practical observations, as individuals engaging in more physical activities typically expend more energy, thereby necessitating increased food intake to compensate for the energy loss.\n\n\n\nCode\nggplot(data, aes(x = FCVC, y = NObeyesdad, fill = NObeyesdad)) +\n  stat_density_ridges(alpha = 0.7) +\n  scale_fill_viridis_d() +\n  labs(title = \"Ridgeline Plot of Obesity Types\", x = \"Frequency of Vegetable Consumption\", y = \"Obesity Type\") +\n  theme_ridges()\n\n\n\n\n\nFig.7 Ridgeline Plot of frequency of vegetables of individuals across Obesity Types\n\n\n\n\nIn-depth examination of Figure 7 indicates that individuals classified as underweight exhibit a higher frequency of vegetable consumption. In contrast, those categorized as overweight and in the obesity type I and II classifications demonstrate a lower frequency of vegetable consumption. Notably, the trend shifts for individuals with obesity type III, the classification for extreme obesity, where there is an observable increase in vegetable consumption frequency.\n\n\n3.4.3 Density plots for numerical variables\n\n\nCode\n# Creating individual density plots with smooth lines\nplot_fcvc &lt;- ggplot(data, aes(x = FCVC)) + \n  stat_density(fill=\"blue\", alpha=0.5) +\n  ggtitle(\"FCVC Density Plot\") +\n  xlab(\"FCVC\") +\n  ylab(\"Density\")\n\nplot_ncp &lt;- ggplot(data, aes(x = NCP)) + \n  stat_density(aes(y = ..density..), geom = \"area\", fill=\"blue\", alpha=0.5) +\n  ggtitle(\"NCP Density Plot\") +\n  xlab(\"NCP\") +\n  ylab(\"Density\")\n\nplot_faf &lt;- ggplot(data, aes(x = FAF)) + \n  stat_density(aes(y = ..density..), geom = \"area\", fill=\"blue\", alpha=0.5) +\n  ggtitle(\"FAF Density Plot\") +\n  xlab(\"FAF\") +\n  ylab(\"Density\")\n\nplot_tue &lt;- ggplot(data, aes(x = TUE)) + \n  stat_density(aes(y = ..density..), geom = \"area\", fill=\"blue\", alpha=0.5) +ggtitle(\"TUE Density Plot\") +\n  xlab(\"TUE\") +\n  ylab(\"Density\")\n\n# Arrange the plots in a 2x2 grid\ngrid.arrange(plot_fcvc, plot_ncp, plot_faf, plot_tue, nrow = 2)\n\n\n\n\n\nFig. 8: Density plots for Frequency of consumption of vegetables (FCVC), Number of main meals (NCP), Physical activity frequency (FAF), Time using technology devices (TUE)\n\n\n\n\nThe analysis of density plots for various numerical variables reveals some intriguing patterns, particularly in the distribution of integer versus float values:\n\nThe frequency of vegetable consumption predominantly clusters around integer values, with 1 and 3 being notably prevalent. This suggests a strong tendency for surveyed individuals to consume vegetables either once or thrice within a given time frame.\nThe number of main meals consumed typically centers around the integer value 3. This indicates that a majority of the surveyed individuals adhere to a traditional three-meals-a-day eating pattern.\nThe frequency of physical activity demonstrates a clear inclination towards 1 or 2 sessions per week. This pattern highlights a general trend in physical activity habits.\nIn terms of technology device usage frequency, there is a significant skew towards the lower end of the spectrum. The data suggests that most surveyed people either seldom use technology devices or do so only occasionally."
  },
  {
    "objectID": "results.html#correlation-between-existence-of-certain-lifestyle-habits-and-obesity",
    "href": "results.html#correlation-between-existence-of-certain-lifestyle-habits-and-obesity",
    "title": "3  Results",
    "section": "3.6 Correlation between existence of certain lifestyle habits and obesity",
    "text": "3.6 Correlation between existence of certain lifestyle habits and obesity\nWe now seek to analyze the categorical binary variables in our dataset and their links with obesity, namely\n\nGender\nFamily History of Overweight\nFrequent counsumption of high caloric food\nWhether the person smokes\nWhether the person monitors caloric consumption\n\nWe did this by plotting five mosaic plots of each variable against whether the person is overweight (BMI &gt; 25), as follows in Fig. 8a to 8e.\n\n\nCode\n# Create a mosaic plot for each variable in the table plotted against 'IsOverweight'\n\ndata_mosaic &lt;- data[c(\"Gender\", \"family_history_with_overweight\",\"FAVC\",\"SMOKE\",\"SCC\",\"IsOverweight\")]\n\n# Changing the factor levels for the mosaic plot\ndata_mosaic$family_history_with_overweight &lt;- fct_relevel(data_mosaic$family_history_with_overweight, \"yes\", \"no\")\n\ndata_mosaic$SMOKE &lt;- fct_relevel(data_mosaic$SMOKE, \"yes\", \"no\")\n\ndata_mosaic$FAVC &lt;- fct_relevel(data_mosaic$FAVC, \"yes\", \"no\")\n\ndata_mosaic$SCC &lt;- fct_relevel(data_mosaic$SCC, \"yes\", \"no\")\n\n\ndata_mosaic$IsOverweight &lt;- as.character(data_mosaic$IsOverweight)\n\n# For loop to plot one mosaic plot for each variable\nfor(var in names(data_mosaic)[names(data_mosaic) != \"IsOverweight\"]) {\n contingency_table &lt;- table(data_mosaic[[var]],data_mosaic$IsOverweight)\n mosaicplot(contingency_table, main = paste(\"Mosaic Plot for\", var), ylab = \"Is Overweight\", xlab = var, col = c(\"pink\", \"brown\"))\n\n}\n\n\n\n\n\nFig. 8a: Mosaic Plot of Gender against IsOverweight\n\n\n\n\n\n\n\nFig. 8b: Mosaic Plot of Family History against IsOverweight\n\n\n\n\n\n\n\nFig. 8c: Mosaic Plot of Frequent consumption of high caloric food against IsOverweight\n\n\n\n\n\n\n\nFig. 8d: Mosaic Plot of weight of whether the person smokes against IsOverweight\n\n\n\n\n\n\n\nFig. 8e: Mosaic Plot of calories consumption monitoring against IsOverweight\n\n\n\n\n\n\nCode\n# Trivariate mosaic plot visualizing frequent consumption of high caloric food, calories consumption monitoring and IsOverweight\n\ndata_mosaic &lt;- data[c(\"FAVC\", \"SCC\", \"IsOverweight\")] \ndata_mosaic &lt;- dplyr::count_(data_mosaic,vars = c(\"FAVC\", \"SCC\", \"IsOverweight\"))\n\ncolnames(data_mosaic)[colnames(data_mosaic) == \"n\"] &lt;- \"Freq\"\n\ndata_mosaic$IsOverweight &lt;- fct_rev(as.character(data_mosaic$IsOverweight))\n\nmosaic(FAVC ~ SCC + IsOverweight, data = data_mosaic, direction = c(\"v\",\"h\",\"v\"), highlighting_fill = c(\"#bdd7e7\",\"#2171b5\"))\n\n\n\n\n\nFig. 9: Trivariate mosaic plot visualizing frequent consumption of high caloric food, calories consumption monitoring and IsOverweight\n\n\n\n\n\n\nCode\n# Data preprocessing for the alluvial diagram\n\ndata_alluvial &lt;- data[c(\"Age\", \"NObeyesdad\", \"NCP\", \"CH2O\", \"FAF\", \"CALC\", \"TUE\")] # selecting relevant variables\n\n# Rounding the numeric values to the nearest integer\ndata_alluvial$CH2O &lt;- as.numeric(data_alluvial$CH2O)\ndata_alluvial$CH2O &lt;- round(data_alluvial$CH2O)\ndata_alluvial$NCP &lt;- as.numeric(data_alluvial$NCP)\ndata_alluvial$NCP &lt;- round(data_alluvial$NCP)\ndata_alluvial$FAF &lt;- as.numeric(data_alluvial$FAF)\ndata_alluvial$FAF &lt;- round(data_alluvial$FAF)\ndata_alluvial$TUE &lt;- as.numeric(data_alluvial$TUE)\ndata_alluvial$TUE &lt;- round(data_alluvial$TUE)\n\n# Grouping the Overweight and Obese values of Obesity Category together to make the diagram more readable\ndata_alluvial &lt;- data_alluvial %&gt;%\n mutate(Obesity_Category = case_when(\n   NObeyesdad %in% c(\"Overweight_Level_I\", \"Overweight_Level_II\") ~ \"Overweight\",\n   NObeyesdad %in% c(\"Obesity_Type_I\", \"Obesity_Type_II\") ~ \"Obese\",\n   NObeyesdad == \"Normal_Weight\" ~ \"Normal\",\n   NObeyesdad == \"Insufficient_Weight\" ~ \"Underweight\"\n ))\n\n\n\n\nCode\n# Acronyms: CALC (consumption of alcohol), TUE (time on electronics), FAF (physical activity), CH2O (daily water), NCP (number of main meals)\n\n\n# Reformatting the data to plot alluvial diagram\ndata_alluvial_2 &lt;- dplyr::count_(data_alluvial,vars = c(\"Obesity_Category\", \"FAF\", \"CALC\", \"NCP\", \"CH2O\", \"TUE\"))\n\n# Renaming the Freq column\ncolnames(data_alluvial_2)[colnames(data_alluvial_2) == \"n\"] &lt;- \"Freq\"\n\n# Changing factor levels for Obesity Category\ndata_alluvial_2$Obesity_Category &lt;- factor(data_alluvial_2$Obesity_Category, levels = c(\"Underweight\", \"Normal\", \"Overweight\", \"Obese\"))\n\n# Plotting the alluvial diagram\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = TUE, axis3 = FAF)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"Gender\", \"Dept\"), expand = c(.05, .05)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs Time on Electronics vs Alcohol consumption\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 10a: Alluvial diagram of Obesity category vs Time on Electronics vs Alcohol consumption\n\n\n\n\n\n\nCode\n# Acronyms: CALC (consumption of alcohol), TUE (time on electronics), FAF (physical activity), CH2O (daily water), NCP (number of main meals)\n\n# Plotting the alluvial diagram\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = NCP, axis3 = CH2O)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"Gender\", \"Dept\"), expand = c(.05, .05)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs Nb of meals vs Water consumption a day\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 10b: Alluvial diagram of Obesity category vs Nb of meals vs Water consumption a day"
  },
  {
    "objectID": "results.html#correlation-between-biological-factorsthe-existence-of-certain-lifestyle-habits-and-obesity",
    "href": "results.html#correlation-between-biological-factorsthe-existence-of-certain-lifestyle-habits-and-obesity",
    "title": "3  Results",
    "section": "3.5 Correlation between biological factors/the existence of certain lifestyle habits and obesity",
    "text": "3.5 Correlation between biological factors/the existence of certain lifestyle habits and obesity\n\n3.5.1 Bivariate Mosaic Plots of existence of certain lifestyle habits against IsOverweight\nWe now seek to analyze the categorical binary variables in our dataset and their links with obesity, namely\n\nGender\nFamily History of Overweight\nFrequent counsumption of high caloric food\nWhether the person smokes\nWhether the person monitors caloric consumption\n\nWe did this by plotting five mosaic plots of each variable against whether the person is overweight (BMI &gt; 25), as follows in Fig. 8a to 8e.\n\n\nCode\n# Create a mosaic plot for each variable in the table plotted against 'IsOverweight'\n\ndata_mosaic &lt;- data[c(\"Gender\", \"family_history_with_overweight\",\"FAVC\",\"SMOKE\",\"SCC\",\"IsOverweight\")]\n\n# Changing the factor levels for the mosaic plot\ndata_mosaic$family_history_with_overweight &lt;- fct_relevel(data_mosaic$family_history_with_overweight, \"yes\", \"no\")\n\ndata_mosaic$SMOKE &lt;- fct_relevel(data_mosaic$SMOKE, \"yes\", \"no\")\n\ndata_mosaic$FAVC &lt;- fct_relevel(data_mosaic$FAVC, \"yes\", \"no\")\n\ndata_mosaic$SCC &lt;- fct_relevel(data_mosaic$SCC, \"yes\", \"no\")\n\n#data_mosaic$IsOverweight &lt;- as.character(data_mosaic$IsOverweight)\n\n#data_mosaic\n\n# For loop to plot one mosaic plot for each variable\nfor(var in names(data_mosaic)[names(data_mosaic) != \"IsOverweight\"]) {\n contingency_table &lt;- table(data_mosaic[[var]],data_mosaic$IsOverweight)\n mosaicplot(contingency_table, main = paste(\"Mosaic Plot for\", var), ylab = \"Is Overweight\", xlab = var, col = c(\"pink\", \"brown\"))\n\n}\n\n\n\n\n\nFig. 9a: Mosaic Plot of Gender against IsOverweight\n\n\n\n\n\n\n\nFig. 9b: Mosaic Plot of Family History against IsOverweight\n\n\n\n\n\n\n\nFig. 9c: Mosaic Plot of Frequent consumption of high caloric food against IsOverweight\n\n\n\n\n\n\n\nFig. 9d: Mosaic Plot of weight of whether the person smokes against IsOverweight\n\n\n\n\n\n\n\nFig. 8e: Mosaic Plot of calories consumption monitoring against IsOverweight\n\n\n\n\nOverall conclusion from this mosaic plot: There is little correlation between whether a person is overweight and their gender, as well as overweight/whether they smoke, whereas there is a large correlation between overweight/having a family history with overweight, overweight/frequent consumption of high caloric foods, overweight/calories consumption monitoring.\n\n\n3.5.2 Trivariate Mosaic Plot of existence of certain lifestyle habits against IsOverweight\nNext, we want to further analyze the correlations between these binary categorical variables and IsOverweight by plotting a multi-variate mosaic plot. We do this for the three variables in the previous binary mosaic plots that have shown to be the most correlated with IsOverweight, namely SCC, frequent consumption of high caloric foods, FAVC frequent consumption of high caloric food, and family_history_with_overweight. This multi-variate mosaic plot is presented in Fig. 9.\n\n\nCode\n# Trivariate mosaic plot visualizing frequent consumption of high caloric food, calories consumption monitoring and IsOverweight\n\ndata_mosaic &lt;- data[c(\"FAVC\", \"SCC\", \"IsOverweight\",\"family_history_with_overweight\")] \ndata_mosaic &lt;- dplyr::count_(data_mosaic,vars = c(\"family_history_with_overweight\", \"SCC\", \"FAVC\", \"IsOverweight\"))\n\ncolnames(data_mosaic)[colnames(data_mosaic) == \"n\"] &lt;- \"Freq\"\n\n\ndata_mosaic$FAVC &lt;- fct_relevel(data_mosaic$FAVC, \"yes\", \"no\")\n\ndata_mosaic$SCC &lt;- fct_relevel(data_mosaic$SCC,\"no\", \"yes\")\n\ndata_mosaic$family_history_with_overweight &lt;- fct_relevel(data_mosaic$family_history_with_overweight, \"yes\", \"no\")\n\n#data_mosaic$IsOverweight &lt;- fct_rev(data_mosaic$IsOverweight)\n\n#data_mosaic$SCC &lt;- fct_relevel(data_mosaic$SCC, \"yes\", \"no\")\n\nmosaic(IsOverweight ~ family_history_with_overweight + SCC + FAVC, data = data_mosaic, direction = c(\"v\",\"v\",\"v\", \"h\"), highlighting_fill = c(\"#bdd7e7\",\"#2171b5\"))\n\n\n\n\n\nFig. 10: Multi-variate mosaic plot visualizing family_history_with_overweight, calories consumption monitoring and frequent consumption of high caloric food vs IsOverweight\n\n\n\n\nWe can see that the individuals have a family history with overweight have a much higher correlation with being overweight than individuals who do not have a family history with overweight. The group that has all the unhealthy habits but has no family history with being overweight has a lower correlation with being overweight compared to all groups which have a family history of being overweight, even the group that has a family history with being overweight but no unhealthy habits. This shows that, in the binary categorical variables, having a family history of being overweight has the highest correlation of someone actually being overweight. \n\n\n3.5.3 Two multivariate alluvial diagrams\nLastly, we analyze the categorical ordinal variables using two multivariate alluvial diagrams (Fig. 10a to 10c). These variables are “neutral” lifestyle habits such as the time on electronics (a), alcohol consumption (a), number of meals (b), water consumption a day (b), which based on common knowledge do not have appear to have a correlation with somebody’s BMI. We visualized a person’s physical activity frequency in a third alluvial diagram (c) for better visibility.\n\n\nCode\n# Data preprocessing for the alluvial diagram\n\ndata_alluvial &lt;- data[c(\"Age\", \"NObeyesdad\", \"NCP\", \"CH2O\", \"FAF\", \"CALC\", \"TUE\")] # selecting relevant variables\n\n# Rounding the numeric values to the nearest integer\ndata_alluvial$CH2O &lt;- as.numeric(data_alluvial$CH2O)\ndata_alluvial$CH2O &lt;- round(data_alluvial$CH2O)\ndata_alluvial$NCP &lt;- as.numeric(data_alluvial$NCP)\ndata_alluvial$NCP &lt;- round(data_alluvial$NCP)\ndata_alluvial$FAF &lt;- as.numeric(data_alluvial$FAF)\ndata_alluvial$FAF &lt;- round(data_alluvial$FAF)\ndata_alluvial$TUE &lt;- as.numeric(data_alluvial$TUE)\ndata_alluvial$TUE &lt;- round(data_alluvial$TUE)\n\n# Grouping the Overweight and Obese values of Obesity Category together to make the diagram more readable\ndata_alluvial &lt;- data_alluvial %&gt;%\n mutate(Obesity_Category = case_when(\n   NObeyesdad %in% c(\"Overweight_Level_I\", \"Overweight_Level_II\") ~ \"Overweight\",\n   NObeyesdad %in% c(\"Obesity_Type_I\", \"Obesity_Type_II\") ~ \"Obese\",\n   NObeyesdad == \"Normal_Weight\" ~ \"Normal\",\n   NObeyesdad == \"Insufficient_Weight\" ~ \"Underweight\"\n ))\n\n\n\n\nCode\n# Acronyms: CALC (consumption of alcohol), TUE (time on electronics), FAF (physical activity), CH2O (daily water), NCP (number of main meals)\n\n\n# Reformatting the data to plot alluvial diagram\ndata_alluvial_2 &lt;- dplyr::count_(data_alluvial,vars = c(\"Obesity_Category\", \"FAF\", \"CALC\", \"NCP\", \"CH2O\", \"TUE\"))\n\n# Renaming the Freq column\ncolnames(data_alluvial_2)[colnames(data_alluvial_2) == \"n\"] &lt;- \"Freq\"\n\n# Changing factor levels for Obesity Category\ndata_alluvial_2$Obesity_Category &lt;- factor(data_alluvial_2$Obesity_Category, levels = c(\"Underweight\", \"Normal\", \"Overweight\", \"Obese\"))\n\n# Plotting the alluvial diagram\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = TUE, axis3 = FAF)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs Time on Electronics vs Alcohol consumption\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 11a: Alluvial diagram of Obesity category vs Time on Electronics vs Alcohol consumption\n\n\n\n\n\n\nCode\n# Acronyms: CALC (consumption of alcohol), TUE (time on electronics), FAF (physical activity), CH2O (daily water), NCP (number of main meals)\n\n# Plotting the alluvial diagram\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = NCP, axis3 = CH2O)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs Nb of meals vs Water consumption a day\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 11b: Alluvial diagram of Obesity category vs Nb of meals vs Water consumption a day\n\n\n\n\n\n\nCode\n# Acronyms: CALC (consumption of alcohol), TUE (time on electronics), FAF (physical activity), CH2O (daily water), NCP (number of main meals)\n\n# Plotting the alluvial diagram\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = FAF)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs physical activity frequency\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 11c: Alluvial diagram of Obesity category vs Physical activity frequency (FAF)\n\n\n\n\nFrom these alluvial diagrams, we can see that there does not appear to be a clear correlation between the obesity category a person is in with these neutral lifestyle habits, which corresponds to our intuition. What is more surprising is that we do not see a clear correlation either between a person’s obesity level and their physical activity frequency. This could be because physical activity are both important for healthy people to maintain a healthy weight, but is also something that overweight people actively try to do to lose weight."
  },
  {
    "objectID": "results.html#correlation-between-biological-factorsthe-existence-of-certain-lifestyle-habits-and-obesity",
    "href": "results.html#correlation-between-biological-factorsthe-existence-of-certain-lifestyle-habits-and-obesity",
    "title": "3  Results",
    "section": "3.5 Correlation between biological factors/the existence of certain lifestyle habits and obesity",
    "text": "3.5 Correlation between biological factors/the existence of certain lifestyle habits and obesity\n\n3.5.1 Bivariate Mosaic Plots of existence of certain lifestyle habits against IsOverweight\nWe now seek to analyze the categorical binary variables in our dataset and their links with obesity, namely\n\nGender\nFamily History of Overweight\nFrequent counsumption of high caloric food\nWhether the person smokes\nWhether the person monitors caloric consumption\n\nWe did this by plotting five mosaic plots of each variable against whether the person is overweight (BMI &gt; 25), as follows in Fig. 8a to 8e.\n\n\nCode\n# Create a mosaic plot for each variable in the table plotted against 'IsOverweight'\n\ndata_mosaic &lt;- data[c(\"Gender\", \"family_history_with_overweight\",\"FAVC\",\"SMOKE\",\"SCC\",\"IsOverweight\")]\n\n# Changing the factor levels for the mosaic plot\ndata_mosaic$family_history_with_overweight &lt;- fct_relevel(data_mosaic$family_history_with_overweight, \"yes\", \"no\")\n\ndata_mosaic$SMOKE &lt;- fct_relevel(data_mosaic$SMOKE, \"yes\", \"no\")\n\ndata_mosaic$FAVC &lt;- fct_relevel(data_mosaic$FAVC, \"yes\", \"no\")\n\ndata_mosaic$SCC &lt;- fct_relevel(data_mosaic$SCC, \"yes\", \"no\")\n\n#data_mosaic$IsOverweight &lt;- as.character(data_mosaic$IsOverweight)\n\n#data_mosaic\n\n# For loop to plot one mosaic plot for each variable\nfor(var in names(data_mosaic)[names(data_mosaic) != \"IsOverweight\"]) {\n contingency_table &lt;- table(data_mosaic[[var]],data_mosaic$IsOverweight)\n mosaicplot(contingency_table, main = paste(\"Mosaic Plot for\", var), ylab = \"Is Overweight\", xlab = var, col = c(\"pink\", \"brown\"))\n\n}\n\n\n\n\n\nFig. 8a: Mosaic Plot of Gender against IsOverweight\n\n\n\n\n\n\n\nFig. 8b: Mosaic Plot of Family History against IsOverweight\n\n\n\n\n\n\n\nFig. 8c: Mosaic Plot of Frequent consumption of high caloric food against IsOverweight\n\n\n\n\n\n\n\nFig. 8d: Mosaic Plot of weight of whether the person smokes against IsOverweight\n\n\n\n\n\n\n\nFig. 8e: Mosaic Plot of calories consumption monitoring against IsOverweight\n\n\n\n\nOverall conclusion from this mosaic plot: There is little correlation between whether a person is overweight and their gender, as well as overweight/whether they smoke, whereas there is a large correlation between overweight/having a family history with overweight, overweight/frequent consumption of high caloric foods, overweight/calories consumption monitoring.\n\n\n3.5.2 Trivariate Mosaic Plot of existence of certain lifestyle habits against IsOverweight\nNext, we want to further analyze the correlations between these binary categorical variables and IsOverweight by plotting a multi-variate mosaic plot. We do this for the three variables in the previous binary mosaic plots that have shown to be the most correlated with IsOverweight, namely SCC, frequent consumption of high caloric foods, FAVC frequent consumption of high caloric food, and family_history_with_overweight. This multi-variate mosaic plot is presented in Fig. 9.\n\n\nCode\n# Trivariate mosaic plot visualizing frequent consumption of high caloric food, calories consumption monitoring and IsOverweight\n\ndata_mosaic &lt;- data[c(\"FAVC\", \"SCC\", \"IsOverweight\",\"family_history_with_overweight\")] \ndata_mosaic &lt;- dplyr::count_(data_mosaic,vars = c(\"family_history_with_overweight\", \"SCC\", \"FAVC\", \"IsOverweight\"))\n\ncolnames(data_mosaic)[colnames(data_mosaic) == \"n\"] &lt;- \"Freq\"\n\n\ndata_mosaic$FAVC &lt;- fct_relevel(data_mosaic$FAVC, \"yes\", \"no\")\n\ndata_mosaic$SCC &lt;- fct_relevel(data_mosaic$SCC,\"no\", \"yes\")\n\ndata_mosaic$family_history_with_overweight &lt;- fct_relevel(data_mosaic$family_history_with_overweight, \"yes\", \"no\")\n\n#data_mosaic$IsOverweight &lt;- fct_rev(data_mosaic$IsOverweight)\n\n#data_mosaic$SCC &lt;- fct_relevel(data_mosaic$SCC, \"yes\", \"no\")\n\nmosaic(IsOverweight ~ family_history_with_overweight + SCC + FAVC, data = data_mosaic, direction = c(\"v\",\"v\",\"v\", \"h\"), highlighting_fill = c(\"#bdd7e7\",\"#2171b5\"))\n\n\n\n\n\nFig. 9: Multi-variate mosaic plot visualizing family_history_with_overweight, calories consumption monitoring and frequent consumption of high caloric food vs IsOverweight\n\n\n\n\nWe can see that the individuals have a family history with overweight have a much higher correlation with being overweight than individuals who do not have a family history with overweight. The group that has all the unhealthy habits but has no family history with being overweight has a lower correlation with being overweight compared to all groups which have a family history of being overweight, even the group that has a family history with being overweight but no unhealthy habits. This shows that, in the binary categorical variables, having a family history of being overweight has the highest correlation of someone actually being overweight. \n\n\n3.5.3 Two multivariate alluvial diagrams\nLastly, we analyze the categorical ordinal variables using two multivariate alluvial diagrams (Fig. 10a to 10c). These variables are “neutral” lifestyle habits such as the time on electronics (a), alcohol consumption (a), number of meals (b), water consumption a day (b), which based on common knowledge do not have appear to have a correlation with somebody’s BMI. We visualized a person’s physical activity frequency in a third alluvial diagram (c) for better visibility.\n\n\nCode\n# Data preprocessing for the alluvial diagram\n\ndata_alluvial &lt;- data[c(\"Age\", \"NObeyesdad\", \"NCP\", \"CH2O\", \"FAF\", \"CALC\", \"TUE\")] # selecting relevant variables\n\n# Rounding the numeric values to the nearest integer\ndata_alluvial$CH2O &lt;- as.numeric(data_alluvial$CH2O)\ndata_alluvial$CH2O &lt;- round(data_alluvial$CH2O)\ndata_alluvial$NCP &lt;- as.numeric(data_alluvial$NCP)\ndata_alluvial$NCP &lt;- round(data_alluvial$NCP)\ndata_alluvial$FAF &lt;- as.numeric(data_alluvial$FAF)\ndata_alluvial$FAF &lt;- round(data_alluvial$FAF)\ndata_alluvial$TUE &lt;- as.numeric(data_alluvial$TUE)\ndata_alluvial$TUE &lt;- round(data_alluvial$TUE)\n\n# Grouping the Overweight and Obese values of Obesity Category together to make the diagram more readable\ndata_alluvial &lt;- data_alluvial %&gt;%\n mutate(Obesity_Category = case_when(\n   NObeyesdad %in% c(\"Overweight_Level_I\", \"Overweight_Level_II\") ~ \"Overweight\",\n   NObeyesdad %in% c(\"Obesity_Type_I\", \"Obesity_Type_II\") ~ \"Obese\",\n   NObeyesdad == \"Normal_Weight\" ~ \"Normal\",\n   NObeyesdad == \"Insufficient_Weight\" ~ \"Underweight\"\n ))\n\n\n\n\nCode\n# Acronyms: CALC (consumption of alcohol), TUE (time on electronics), FAF (physical activity), CH2O (daily water), NCP (number of main meals)\n\n\n# Reformatting the data to plot alluvial diagram\ndata_alluvial_2 &lt;- dplyr::count_(data_alluvial,vars = c(\"Obesity_Category\", \"FAF\", \"CALC\", \"NCP\", \"CH2O\", \"TUE\"))\n\n# Renaming the Freq column\ncolnames(data_alluvial_2)[colnames(data_alluvial_2) == \"n\"] &lt;- \"Freq\"\n\n# Changing factor levels for Obesity Category\ndata_alluvial_2$Obesity_Category &lt;- factor(data_alluvial_2$Obesity_Category, levels = c(\"Underweight\", \"Normal\", \"Overweight\", \"Obese\"))\n\n# Plotting the alluvial diagram\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = TUE, axis3 = FAF)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs Time on Electronics vs Alcohol consumption\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 10a: Alluvial diagram of Obesity category vs Time on Electronics vs Alcohol consumption\n\n\n\n\n\n\nCode\n# Acronyms: CALC (consumption of alcohol), TUE (time on electronics), FAF (physical activity), CH2O (daily water), NCP (number of main meals)\n\n# Plotting the alluvial diagram\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = NCP, axis3 = CH2O)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs Nb of meals vs Water consumption a day\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 10b: Alluvial diagram of Obesity category vs Nb of meals vs Water consumption a day\n\n\n\n\n\n\nCode\n# Acronyms: CALC (consumption of alcohol), TUE (time on electronics), FAF (physical activity), CH2O (daily water), NCP (number of main meals)\n\n# Plotting the alluvial diagram\nggplot(as.data.frame(data_alluvial_2), aes(y = Freq, axis1 = Obesity_Category, axis2 = FAF)) +\n  geom_alluvium(aes(fill = Obesity_Category), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"grey80\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\")  + \n  expand_limits(x = 0, y = 0) +\n  ggtitle(\"Obesity category vs physical activity frequency\") + \n  theme_void() +\n  theme(plot.margin = margin(0,0,0,0, \"cm\"))\n\n\n\n\n\nFig. 10c: Alluvial diagram of Obesity category vs Physical activity frequency (FAF)\n\n\n\n\nFrom these alluvial diagrams, we can see that there does not appear to be a clear correlation between the obesity category a person is in with these neutral lifestyle habits, which corresponds to our intuition. What is more surprising is that we do not see a clear correlation either between a person’s obesity level and their physical activity frequency. This could be because physical activity are both important for healthy people to maintain a healthy weight, but is also something that overweight people actively try to do to lose weight."
  },
  {
    "objectID": "conclusion.html#main-takeaways-of-exploration",
    "href": "conclusion.html#main-takeaways-of-exploration",
    "title": "5  Conclusion",
    "section": "5.1 Main takeaways of exploration",
    "text": "5.1 Main takeaways of exploration\n\nGenetic factors may or may not influence a person’s BMI. Whether a person has a family history of being overweight is the most correlated binary categorical variable with whether the person is actually overweight. However, a person’s gender has little correlation with them being overweight.\nNon-dietary neutral lifestyle habits such as smoking, time on electronics, alcohol consumption, water consumption appear to have little correlation to the obesity category level of the person. This corresponds to our common knowledge that a person’s weight mainly depends on their dietary habits.\nA person’s physical activity level also has little correlation with their weight. This could be because physical activity are both important for healthy people to maintain a healthy weight, but is also something that overweight people actively try to do to lose weight.\nDietary lifestyle factors have a strong correlation with whether a person is overweight, such as calorie consumption monitoring (negative correlation) and frequent consumption of high caloric foods (positive correlation).\nNetherless, wheher a person has a family history of being overweight has a significantly greater correlation with overweight as compared to their actual lifestyle factors. This seems to go against the common belief that people are overweight merely due to poor habits and lifestyle decisions; one does not have any control over their family history, and yet this is the variable that is the most greatly correlated with being overweight.\nIndividuals in the overweight and obesity categories also show high frequency of vegetable consumption, suggesting that eating vegatable may not help keep an individual healthy with normal weight."
  },
  {
    "objectID": "conclusion.html#limitations",
    "href": "conclusion.html#limitations",
    "title": "5  Conclusion",
    "section": "5.2 Limitations",
    "text": "5.2 Limitations\n\nResearchers did not indicate which of the data was artifically generated and which were survey data, hence we aren’t able to confirm that the survey was not obviously biased by verifying that distribution of height, weights and BMI of the survey data correspond to our expectations.\nIn the case of this exploratory data analysis, there was too much data for overweight and obese individuals (50%) vs normal weight (25%) and underweight (25%), which made it difficult to compare between the categories notably for the alluvial diagrams."
  },
  {
    "objectID": "conclusion.html#future-directions",
    "href": "conclusion.html#future-directions",
    "title": "5  Conclusion",
    "section": "5.3 Future directions",
    "text": "5.3 Future directions\nWe suggest researchers prioritizing the following directions in their future research:\n\nIn-Depth Dietary Analysis: There seems to be a paradox of high vegetable consumption among obese individuals; looking into meal composition, portion sizes, and the overall caloric balance of diets can help understand the context of these dietary patterns.\nDiverse Population Studies: Expanding the research to include a more diverse population sample to validate the findings and assess the generalizability of the results.\nControlled Intervention Trials: Though we find little influence of obesity from physical activity frequency and technical device use, it’s not definite. Researchers could expand research on implementing and analyzing the outcomes of lifestyle intervention programs focusing on diet and physical activity."
  },
  {
    "objectID": "conclusion.html#lessons-learned",
    "href": "conclusion.html#lessons-learned",
    "title": "5  Conclusion",
    "section": "5.4 Lessons learned",
    "text": "5.4 Lessons learned\nWe should distinguish between artificial and survey data to ensure the validity of the study’s conclusions. Also, ensuring a balanced representation of different categories in the data is crucial for making accurate comparisons and avoiding bias in the findings."
  }
]